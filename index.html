<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guia Completo de Defesa ‚Äî Naruto no Multiverso</title>
  <style>
    :root{--bg:#0b1020;--card:#151e2e;--accent:#ff9f43;--accent-glow:rgba(255,159,67,0.15);--muted:#8b9bb4;--text:#e6eef8;--code-bg:#0d1117}
    body{font-family:'Inter',system-ui,-apple-system,sans-serif;margin:0;background:linear-gradient(180deg,#071025 0%, #050b1a 100%);color:var(--text);line-height:1.6}
    
    /* Layout */
    header{padding:20px 28px;border-bottom:1px solid rgba(255,255,255,0.05);display:flex;align-items:center;gap:16px;background:rgba(11,16,32,0.95);backdrop-filter:blur(10px);position:sticky;top:0;z-index:100;box-shadow:0 4px 20px rgba(0,0,0,0.3)}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,#ff9f43,#ff6b6b);display:flex;align-items:center;justify-content:center;font-weight:800;color:#fff;font-size:20px;box-shadow:0 4px 12px var(--accent-glow)}
    h1{font-size:20px;margin:0;font-weight:700;letter-spacing:-0.5px}
    .container{display:flex;gap:32px;padding:32px;max-width:1400px;margin:0 auto}
    
    /* Nav */
    nav{width:300px;min-width:300px;position:sticky;top:100px;height:fit-content;max-height:80vh;overflow-y:auto}
    .nav-card{background:var(--card);border-radius:16px;padding:16px;border:1px solid rgba(255,255,255,0.05);box-shadow:0 4px 12px rgba(0,0,0,0.2)}
    .nav-list{list-style:none;padding:0;margin:0}
    .nav-list li{margin-bottom:6px}
    .nav-list button{width:100%;text-align:left;padding:12px 16px;border-radius:10px;border:0;background:transparent;color:var(--muted);cursor:pointer;transition:all 0.2s;font-size:14px;font-weight:500;display:flex;align-items:center;gap:10px}
    .nav-list button:hover{background:rgba(255,255,255,0.03);color:var(--text);transform:translateX(4px)}
    .nav-list button.active{background:linear-gradient(90deg, rgba(255,159,67,0.1) 0%, transparent 100%);color:var(--accent);font-weight:600;border-left:3px solid var(--accent)}
    
    /* Main Content */
    main{flex:1;min-height:80vh}
    section{display:none;animation:fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1)}
    section.active{display:block}
    @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    
    h2{margin-top:0;font-size:28px;border-bottom:1px solid rgba(255,255,255,0.05);padding-bottom:20px;margin-bottom:24px;color:#fff}
    h3{margin-top:32px;margin-bottom:16px;font-size:20px;color:#fff;display:flex;align-items:center;gap:10px}
    p{margin-bottom:18px;color:var(--muted);font-size:16px}
    
    /* Code & Technical Blocks */
    .tech-box{background:var(--code-bg);padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);margin-bottom:24px;font-family:'Fira Code',monospace;font-size:14px;overflow-x:auto}
    code{background:rgba(255,255,255,0.1);padding:2px 6px;border-radius:4px;color:#ff9f43;font-family:'Fira Code',monospace;font-size:0.9em}
    .function-name{color:#61afef;font-weight:bold}
    .variable{color:#e06c75}
    .keyword{color:#c678dd}
    
    /* Defense Tips (Questions) */
    .defense-tip{background:rgba(255, 159, 67, 0.05);border-left:4px solid var(--accent);padding:20px;border-radius:0 12px 12px 0;margin:24px 0;position:relative}
    .defense-tip strong{color:var(--accent);display:block;margin-bottom:8px;font-size:12px;text-transform:uppercase;letter-spacing:1px;font-weight:800}
    .hot-question{background:rgba(255, 107, 107, 0.08);border-left:4px solid #ff6b6b}
    .hot-question strong{color:#ff6b6b}

    /* Diagrams (Visual Explanations) */
    .visual-diagram{background:#0d1117;padding:20px;border-radius:12px;margin:20px 0;text-align:center;border:1px dashed #30363d}
    .memory-block{display:inline-block;padding:10px 20px;background:#23272e;border:1px solid #3e4451;border-radius:6px;margin:0 5px;color:#abb2bf;font-size:13px}
    .arrow{display:inline-block;margin:0 10px;color:#61afef;font-size:20px}
    .null-char{color:#e06c75;font-weight:bold}
    
    /* Utility Tags */
    .tag{display:inline-block;padding:4px 10px;border-radius:99px;font-size:11px;font-weight:700;margin-right:8px;text-transform:uppercase;letter-spacing:0.5px}
    .tag.c{background:rgba(97, 175, 239, 0.15);color:#61afef}
    .tag.mem{background:rgba(224, 108, 117, 0.15);color:#e06c75}
    .tag.struct{background:rgba(198, 120, 221, 0.15);color:#c678dd}

    @media(max-width:900px){.container{flex-direction:column;padding:16px}nav{width:100%;position:static;max-height:none}}
  </style>
</head>
<body>

  <header>
    <div class="logo">NM</div>
    <div>
      <h1>Defesa T√©cnica ‚Äî <span style="color:var(--accent)">Naruto no Multiverso</span></h1>
      <div style="font-size:13px;color:var(--muted)">Manual de explica√ß√µes de c√≥digo e arquitetura</div>
    </div>
  </header>

  <div class="container">
    <nav>
      <div class="nav-card">
        <ul class="nav-list" id="navList">
          <li><button class="active" data-target="intro">1. Introdu√ß√£o & Contexto</button></li>
          <li><button data-target="structs">2. Structs & Tipos de Dados</button></li>
          <li><button data-target="csv">3. Leitura de Arquivos (Deep Dive)</button></li>
          <li><button data-target="memory">4. Mem√≥ria: Malloc & Realloc</button></li>
          <li><button data-target="logic">5. L√≥gica de String (Wordle)</button></li>
          <li><button data-target="graphics">6. Raylib & Game Loop</button></li>
          <li><button data-target="syntax">7. Perguntas de Sintaxe (C)</button></li>
          <li><button data-target="closing">8. Encerramento</button></li>
        </ul>
      </div>
    </nav>

    <main>
      
      <!-- 1. INTRO -->
      <section id="intro" class="active">
        <div class="nav-card">
          <h2>1. O Projeto: "Naruto no Multiverso"</h2>
          <p>Um jogo educativo de adivinha√ß√£o de palavras com narrativa visual, desenvolvido 100% em C.</p>
          
          <div class="tech-box">
            <div style="margin-bottom:8px"><strong>üõ† Arquitetura do Projeto:</strong></div>
            ‚îú‚îÄ‚îÄ <span class="variable">main.c</span> (Ponto de entrada, loop principal)<br>
            ‚îú‚îÄ‚îÄ <span class="variable">jogo.c/h</span> (L√≥gica do Wordle, valida√ß√£o)<br>
            ‚îú‚îÄ‚îÄ <span class="variable">palavras.c/h</span> (Gerenciamento de mem√≥ria e CSV)<br>
            ‚îú‚îÄ‚îÄ <span class="variable">cinematica.c/h</span> (Visual Novel, texturas)<br>
            ‚îî‚îÄ‚îÄ <span class="variable">interface.c/h</span> (Renderiza√ß√£o Raylib)
          </div>

          <div class="defense-tip hot-question">
            <strong>üî• Pergunta do Professor: "Por que dividir em tantos arquivos?"</strong>
            <p>"Para respeitar o princ√≠pio de <strong>Separa√ß√£o de Responsabilidades</strong> (Separation of Concerns). Se tiv√©ssemos tudo na <code>main.c</code>, o c√≥digo seria ileg√≠vel e dif√≠cil de dar manuten√ß√£o. Assim, se tiver um erro na l√≥gica de palavras, eu sei exatamente onde procurar (`palavras.c`)."</p>
          </div>
          
          <div class="defense-tip">
            <strong>üí° Conceito Chave: Compila√ß√£o Modular</strong>
            Explique que cada arquivo <code>.c</code> √© compilado individualmente em um arquivo objeto <code>.o</code> e depois o <strong>Linker</strong> junta tudo. Isso agiliza a compila√ß√£o.
          </div>
        </div>
      </section>

      <!-- 2. STRUCTS -->
      <section id="structs">
        <div class="nav-card">
          <h2>2. Estruturas de Dados (Structs)</h2>
          <p>Como organizamos as informa√ß√µes complexas do jogo.</p>

          <div class="tech-box">
<span class="keyword">typedef struct</span> {
    <span class="keyword">char</span> palavra[30];
    <span class="keyword">char</span> dica[100];
    <span class="keyword">char</span> tema[30];
    <span class="keyword">int</span> dificuldade;
} <span class="variable">Palavra</span>;
          </div>

          <div class="defense-tip hot-question">
             <strong>üî• Pergunta: "Qual a diferen√ßa entre 'struct Palavra' e 'typedef struct ... Palavra'?"</strong>
             <p>"O <code>typedef</code> cria um <strong>alias</strong> (apelido). Sem ele, eu teria que escrever <code>struct Palavra p1;</code> toda vez. Com o typedef, posso escrever apenas <code>Palavra p1;</code>, deixando o c√≥digo mais limpo."</p>
          </div>

          <h3>Por que tamanhos fixos? (char palavra[30])</h3>
          <p>Definimos <code>[30]</code> para evitar a complexidade de alocar cada string individualmente. √â um compromisso entre uso de mem√≥ria (stack) e simplicidade de c√≥digo.</p>
        </div>
      </section>

      <!-- 3. CSV -->
      <section id="csv">
        <div class="nav-card">
          <h2>3. Leitura e Parsing de CSV</h2>
          <p>An√°lise detalhada de como transformamos texto bruto em dados.</p>

          <div class="visual-diagram">
            <div style="margin-bottom:10px;font-weight:bold;color:#fff">Como o <code style="color:#e06c75">strtok</code> funciona:</div>
            <div style="font-family:'Fira Code'; font-size:12px;">
              String Original: "Naruto,Anime,Facil\n"
              <br><br>
              <span class="arrow">‚¨á</span> strtok(s, ",")
              <br><br>
              Mem√≥ria: [<span style="color:#98c379">Naruto</span><span class="null-char">\0</span>Anime,Facil\n]
              <br><span style="color:#5c6370;font-size:11px">A v√≠rgula vira \0 (fim de string)</span>
            </div>
          </div>

          <div class="tech-box">
            <span class="function-name">strtok</span>(linha, <span class="variable">","</span>); <span class="keyword">// Retorna ponteiro para "Naruto"</span><br>
            <span class="function-name">atoi</span>(token); <span class="keyword">// Converte string "1" para int 1</span>
          </div>

          <div class="defense-tip hot-question">
            <strong>üî• Pergunta: "O que √© aquele 'strcspn' no c√≥digo?"</strong>
            <p>"<code>linha[strcspn(linha, \"\\n\")] = 0;</code> serve para remover a quebra de linha que o <code>fgets</code> l√™ do arquivo. Se n√£o fizermos isso, a √∫ltima palavra ficaria 'Facil\n' em vez de 'Facil', o que quebraria compara√ß√µes de string."</p>
          </div>

          <div class="defense-tip">
            <strong>üí° Tratamento de Erro</strong>
            "Se <code>fopen</code> retornar <code>NULL</code> (arquivo n√£o encontrado), o jogo n√£o fecha. Ele carrega uma lista de backup hardcoded no c√≥digo. Isso garante que o usu√°rio sempre consiga jogar."
          </div>
        </div>
      </section>

      <!-- 4. MEMORIA -->
      <section id="memory">
        <div class="nav-card">
          <h2>4. Gerenciamento de Mem√≥ria</h2>
          <p>O ponto mais cr√≠tico para provas de C. O uso de <code>realloc</code>.</p>

          <div class="visual-diagram">
            <div style="margin-bottom:15px;font-weight:bold;color:#fff">Expans√£o de Array (Realloc)</div>
            
            <div style="margin-bottom:10px">
              <span style="color:#61afef">Estado 1 (Cheio):</span>
              <span class="memory-block">P1</span><span class="memory-block">P2</span>
            </div>
            
            <span class="arrow">‚¨á</span> <span style="font-size:12px;color:#c678dd">realloc(ptr, 3 * sizeof(Palavra))</span>
            
            <div style="margin-top:10px">
              <span style="color:#61afef">Estado 2 (Novo):</span>
              <span class="memory-block">P1</span><span class="memory-block">P2</span><span class="memory-block" style="border-style:dashed;color:#5c6370">Vazio</span>
            </div>
          </div>

          <div class="defense-tip hot-question">
             <strong>üî• Pergunta: "Se o realloc falhar, o que acontece com os dados antigos?"</strong>
             <p>"Se falhar, ele retorna <code>NULL</code>, mas <strong>mant√©m</strong> o bloco de mem√≥ria original intacto. Por isso usamos uma vari√°vel tempor√°ria: <code>temp = realloc(original...)</code>. Se fiz√©ssemos <code>original = realloc...</code> e falhasse, perder√≠amos o acesso aos dados antigos (Memory Leak)."</p>
          </div>

          <div class="defense-tip">
             <strong>üí° Free()</strong>
             "Ao final do jogo, chamamos <code>free(listaPalavras)</code>. √â crucial liberar a mem√≥ria Heap antes do programa fechar para devolver recursos ao sistema operacional."
          </div>
        </div>
      </section>

      <!-- 5. LOGICA -->
      <section id="logic">
        <div class="nav-card">
          <h2>5. L√≥gica do Wordle (Strings)</h2>
          <p>Como comparamos o que o usu√°rio digitou com a palavra secreta.</p>
          
          <div class="tech-box">
            <span class="keyword">for</span> (i=0; i&lt;5; i++) {<br>
            &nbsp;&nbsp;<span class="keyword">if</span> (tentativa[i] == alvo[i]) <br>
            &nbsp;&nbsp;&nbsp;&nbsp;status[i] = <span class="variable">VERDE</span>; <span class="keyword">// Posi√ß√£o exata</span><br>
            &nbsp;&nbsp;<span class="keyword">else if</span> (existeNaPalavra(tentativa[i]))<br>
            &nbsp;&nbsp;&nbsp;&nbsp;status[i] = <span class="variable">AMARELO</span>; <span class="keyword">// Letra existe em outro lugar</span><br>
            }
          </div>

          <div class="defense-tip">
             <strong>üí° Case Sensitivity</strong>
             "Para evitar erros se o usu√°rio digitar 'a' e a senha for 'A', convertemos tudo para mai√∫sculo usando <code>toupper()</code> antes de comparar."
          </div>
        </div>
      </section>

      <!-- 6. GRAFICOS -->
      <section id="graphics">
        <div class="nav-card">
          <h2>6. Gr√°ficos (Raylib)</h2>
          
          <h3>FPS e Delta Time</h3>
          <p>Para as cinem√°ticas n√£o rodarem r√°pido demais em PCs potentes, usamos o conceito de tempo.</p>
          
          <div class="tech-box">
            tempoDecorrido += <span class="function-name">GetFrameTime</span>();<br>
            <span class="keyword">if</span> (tempoDecorrido > 2.0) { ...proximaCena... }
          </div>
          
          <div class="defense-tip hot-question">
             <strong>üî• Pergunta: "O que o BeginDrawing faz?"</strong>
             <p>"Ele prepara o buffer da GPU para receber comandos de desenho. Se tentarmos desenhar (DrawText) fora do bloco Begin/End, a tela pisca ou nada aparece, pois o buffer n√£o estava aberto."</p>
          </div>
          
          <div class="defense-tip">
             <strong>üí° UnloadTexture</strong>
             "Texturas ocupam VRAM (Mem√≥ria de V√≠deo). √â essencial chamar <code>UnloadTexture()</code> quando trocamos de cena para n√£o estourar a mem√≥ria da placa de v√≠deo."
          </div>
        </div>
      </section>

      <!-- 7. SINTAXE -->
      <section id="syntax">
        <div class="nav-card">
          <h2>7. Perguntas R√°pidas de Sintaxe</h2>
          <p>Perguntas "pegadinha" que professores adoram fazer olhando para o c√≥digo.</p>

          <div style="display:grid;grid-template-columns:1fr 1fr; gap:16px">
            <div class="defense-tip" style="margin:0">
              <strong>#include "..." vs &lt;...&gt;</strong>
              <p><code>&lt;stdio.h&gt;</code>: Busca nas pastas do sistema/compilador.<br>
              <code>"jogo.h"</code>: Busca na pasta atual do projeto.</p>
            </div>
            
            <div class="defense-tip" style="margin:0">
              <strong>#ifndef HEADER_H</strong>
              <p>S√£o "Include Guards". Impedem que o mesmo arquivo .h seja inclu√≠do duas vezes, o que geraria erro de redefini√ß√£o.</p>
            </div>

            <div class="defense-tip" style="margin:0">
              <strong>int argc, char *argv[]</strong>
              <p>Argumentos de linha de comando. <code>argc</code> √© a contagem, <code>argv</code> s√£o os textos. Usamos para debug, se necess√°rio.</p>
            </div>

            <div class="defense-tip" style="margin:0">
              <strong>static int x;</strong>
              <p>Se estiver dentro de uma fun√ß√£o, a vari√°vel mant√©m o valor entre chamadas. Se for global, ela s√≥ √© vis√≠vel naquele arquivo .c (privada).</p>
            </div>
          </div>
        </div>
      </section>

      <!-- 8. FECHAMENTO -->
      <section id="closing">
        <div class="nav-card">
          <h2>8. Encerramento</h2>
          <p>Resumo para finalizar a apresenta√ß√£o.</p>
          
          <p>O projeto demonstra dom√≠nio de:</p>
          <ul>
            <li>Aloca√ß√£o din√¢mica e seguran√ßa de mem√≥ria.</li>
            <li>Persist√™ncia de dados (Arquivos).</li>
            <li>Modulariza√ß√£o e boas pr√°ticas de engenharia de software em C.</li>
          </ul>
          
          <div class="defense-tip hot-question" style="border-color:#2ecc71; background:rgba(46, 204, 113, 0.1)">
             <strong style="color:#2ecc71">üí° Se o c√≥digo quebrar na apresenta√ß√£o...</strong>
             <p>"Mantenha a calma. Diga: 'Isso parece ser um caso de borda n√£o tratado na leitura do arquivo local. No ambiente de desenvolvimento, validamos atrav√©s dos testes X e Y'. Mostre que voc√™ entende o erro, mesmo que n√£o consiga consertar na hora."</p>
          </div>
        </div>
      </section>

    </main>
  </div>

  <script>
    const buttons = document.querySelectorAll('.nav-list button');
    const sections = document.querySelectorAll('main section');

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('active'));
        sections.forEach(s => s.classList.remove('active'));
        btn.classList.add('active');
        const targetId = btn.getAttribute('data-target');
        document.getElementById(targetId).classList.add('active');
        window.scrollTo({top: 0, behavior: 'smooth'});
      });
    });
  </script>
</body>
</html>
